import{a as o}from"./chunk-TV5RSNTQ.js";import{Ia as h,e as c,f as s,k as m,q as u,t as a,w as p}from"./chunk-KJDUKPVH.js";var f=function(t){return t[t.Success=0]="Success",t[t.NoResults=1]="NoResults",t[t.InvalidParameter=2]="InvalidParameter",t[t.TokenNotFound=3]="TokenNotFound",t[t.TokenEmpty=4]="TokenEmpty",t[t.RateLimit=5]="RateLimit",t}(f||{});var v=(()=>{let r=class r{constructor(){this.open=new c}getStatus(){return this.open.asObservable()}setStatus(n){this.open.next(n)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();var g=(()=>{let r=class r{constructor(n){this.http=n,this.token=new s(void 0),this.endpoint="/api_token.php?"}getToken(){if(this.token.value)return this.token.asObservable();let n=new URLSearchParams({command:"request"}),i=o.apiUrl+this.endpoint+n.toString();return this.http.get(i).pipe(u(e=>this.token.next(e.token)),m(e=>e.token))}resetToken(n){let i=new URLSearchParams({command:"reset",token:n}),e=o.apiUrl+this.endpoint+i.toString();return this.http.get(e)}clearToken(){this.token.next(void 0)}};r.\u0275fac=function(i){return new(i||r)(p(h))},r.\u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();export{f as a,g as b,v as c};
